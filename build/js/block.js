(()=>{"use strict";var e={87:(e,t,r)=>{r.d(t,{Z:()=>d});var n=r(363),o=r.n(n);const a=ReactDOM;var c=r.n(a);function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t,r){return(t=function(e){var t=function(e){if("object"!=l(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=l(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==l(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,c,l=[],i=!0,s=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;i=!1}else for(;!(i=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);i=!0);}catch(e){s=!0,o=e}finally{try{if(!i&&null!=r.return&&(c=r.return(),Object(c)!==c))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return m(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?m(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var h=function(){var e=w((0,n.useState)(weatherForecastData.initialWeather||{}),2),t=e[0],r=e[1],a=w((0,n.useState)(!1),2),c=a[0],l=a[1],i=w((0,n.useState)(null),2),u=i[0],m=i[1],h=w((0,n.useState)(null),2),d=h[0],f=h[1],g=w((0,n.useState)("celsius"),2),p=g[0],v=g[1],y=w((0,n.useState)("12h"),2),b=y[0],E=y[1],x=function(e){return"".concat(Math.round(e),"°").concat("celsius"===p?"C":"F")},j=function(e,t){return"celsius"===p?e:t};(0,n.useEffect)((function(){"https:"===window.location.protocol?navigator.geolocation?(l(!0),navigator.geolocation.getCurrentPosition((function(e){k(e.coords.latitude,e.coords.longitude)}),(function(e){var t="Could not get your location. Using default location instead.";1===e.code?t="Location access denied. Please check your browser permissions.":2===e.code?t="Location unavailable. Using default location instead.":3===e.code&&(t="Location request timed out. Using default location instead."),console.error("Geolocation error:",e),f(t),l(!1)}),{enableHighAccuracy:!0,timeout:1e4,maximumAge:0})):(f("Geolocation is not supported by your browser."),l(!1)):f("Geolocation requires a secure (HTTPS) connection. Using default location instead.")}),[]);var N,_,k=function(e,t){l(!0),m(null),jQuery.ajax({url:weatherForecastData.ajaxurl,type:"POST",data:{action:"weather_forecast_get_current",security:weatherForecastData.nonce,latitude:e,longitude:t},success:function(e){e.success?r(e.data):m("Failed to fetch weather data"),l(!1)},error:function(e,t,r){m("Error: "+r),l(!1)}})},O=function(){navigator.geolocation?navigator.geolocation.getCurrentPosition((function(e){k(e.coords.latitude,e.coords.longitude)}),(function(e){m("Could not get your location. Please try again.")})):(l(!0),m(null),jQuery.ajax({url:weatherForecastData.ajaxurl,type:"POST",data:{action:"weather_forecast_get_current",security:weatherForecastData.nonce},success:function(e){e.success?r(e.data):m("Failed to fetch weather data"),l(!1)},error:function(e,t,r){m("Error: "+r),l(!1)}}))};return(0,n.useEffect)((function(){t&&t.condition&&!t.noun_project_icon&&weatherForecastData.useNounProject&&function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;weatherForecastData.useNounProject&&(t&&t.startsWith("#")&&(t=t.substring(1)),jQuery.ajax({url:weatherForecastData.ajaxurl,type:"POST",data:{action:"weather_forecast_get_icon",security:weatherForecastData.nonce,condition:e,color:t,filetype:"svg",size:84},success:function(e){e.success&&e.data.icon_url&&r((function(t){return s(s({},t),{},{noun_project_icon:e.data.icon_url,noun_project_attribution:e.data.attribution})}))},error:function(e,t,r){console.error("Error fetching Noun Project icon:",r)}}))}(t.condition,"3B82F6")}),[null==t?void 0:t.condition]),c?o().createElement("div",{className:"weather-widget weather-loading"},o().createElement("svg",{className:"tw-w-16 tw-h-16 tw-mx-auto tw-text-sky-blue loading-icon",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},o().createElement("circle",{className:"tw-opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),o().createElement("path",{className:"tw-opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})),o().createElement("p",{className:"tw-mt-5 tw-font-medium tw-text-night-blue"},"Fetching your weather...")):u?o().createElement("div",{className:"weather-widget weather-error"},o().createElement("svg",{className:"error-icon",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},o().createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})),o().createElement("p",{className:"tw-text-night-blue tw-font-medium"},u),o().createElement("button",{onClick:O,className:"tw-bg-sky-blue tw-text-white tw-px-4 tw-py-2 tw-rounded-lg tw-mt-5 hover:tw-bg-deep-blue tw-transition-colors"},"Try Again")):t.location?o().createElement("div",{className:"weather-widget weather-card"},o().createElement("div",{className:"weather-header"},o().createElement("div",{className:"tw-flex tw-justify-between tw-items-center"},o().createElement("h3",{className:"weather-location"},t.location),o().createElement("div",{className:"tw-flex tw-gap-2"},o().createElement("button",{onClick:function(){v("celsius"===p?"fahrenheit":"celsius")},className:"unit-toggle ".concat("celsius"===p?"active":"")},"°","celsius"===p?"C":"F"),o().createElement("button",{onClick:function(){E("12h"===b?"24h":"12h")},className:"unit-toggle ".concat("24h"===b?"active":"")},"12h"===b?"12h":"24h"))),o().createElement("p",{className:"tw-text-xs tw-text-night-blue tw-opacity-75"},t.country),o().createElement("p",{className:"weather-updated tw-flex tw-items-center tw-gap-1"},o().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"tw-h-4 tw-w-4 tw-text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},o().createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})),(N=t.last_updated,_=new Date(N),"12h"===b?_.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!0}):_.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1}))),d&&o().createElement("p",{className:"weather-location-note"},d)),o().createElement("div",{className:"weather-current"},o().createElement("div",{className:"weather-condition"},o().createElement("div",{className:"weather-condition-icon"},function(){if(t.noun_project_icon)return o().createElement("img",{src:t.noun_project_icon,alt:t.condition,className:"tw-w-16 tw-h-16 tw-object-contain",title:t.noun_project_attribution||t.condition});if(t.icon)return o().createElement("img",{src:t.icon,alt:t.condition,className:"tw-w-16 tw-h-16"});var e=t.condition.toLowerCase();return e.includes("thunderstorm")||e.includes("thunder")?o().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"tw-w-8 tw-h-8 tw-text-white"},o().createElement("path",{d:"M16 2a1 1 0 0 1 1 1v6h3a1 1 0 0 1 .8 1.6l-8 11a1 1 0 0 1-1.8-.6v-6h-3a1 1 0 0 1-.8-1.6l8-11A1 1 0 0 1 16 2z"})):e.includes("rain")||e.includes("drizzle")?o().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"tw-w-8 tw-h-8 tw-text-white"},o().createElement("path",{d:"M11 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16zm1 13a1 1 0 1 1-2 0 6 6 0 0 1 6-6 1 1 0 0 1 0 2 4 4 0 0 0-4 4z"})):e.includes("snow")||e.includes("sleet")?o().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"tw-w-8 tw-h-8 tw-text-white"},o().createElement("path",{d:"M13 16.268l1.964-1.134 1 1.732L14 18l1.964 1.134-1 1.732L13 19.732V22h-2v-2.268l-1.964 1.134-1-1.732L10 18l-1.964-1.134 1-1.732L11 16.268V14h2v2.268zM17 18v-4h-2v-2h2V8l4 4-4 4v2zM3 2h18v2H3V2z"})):e.includes("clear")||e.includes("sunny")?o().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"tw-w-8 tw-h-8 tw-text-white"},o().createElement("path",{d:"M12 18a6 6 0 1 1 0-12 6 6 0 0 1 0 12zm0-2a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM11 1h2v3h-2V1zm0 19h2v3h-2v-3zM3.515 4.929l1.414-1.414L7.05 5.636 5.636 7.05 3.515 4.93zM16.95 18.364l1.414-1.414 2.121 2.121-1.414 1.414-2.121-2.121zm2.121-14.85l1.414 1.415-2.121 2.121-1.414-1.414 2.121-2.121zM5.636 16.95l1.414 1.414-2.121 2.121-1.414-1.414 2.121-2.121zM23 11v2h-3v-2h3zM4 11v2H1v-2h3z"})):e.includes("cloud")||e.includes("overcast")?o().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"tw-w-8 tw-h-8 tw-text-white"},o().createElement("path",{d:"M9.5 6a6.5 6.5 0 0 0 0 13h7a4.5 4.5 0 1 0-.957-8.898A6.502 6.502 0 0 0 9.5 6z"})):e.includes("fog")||e.includes("mist")?o().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"tw-w-8 tw-h-8 tw-text-white"},o().createElement("path",{d:"M4 4h4v2H4V4zm12 0h4v2h-4V4zM2 9h5v2H2V9zm7 0h5v2H9V9zm7 0h5v2h-5V9zM4 14h4v2H4v-2zm12 0h4v2h-4v-2zM2 19h5v2H2v-2zm7 0h5v2H9v-2zm7 0h5v2h-5v-2z"})):o().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"tw-w-8 tw-h-8 tw-text-white"},o().createElement("path",{d:"M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10S2 17.514 2 12 6.486 2 12 2zm0 18c4.411 0 8-3.589 8-8s-3.589-8-8-8-8 3.589-8 8 3.589 8 8 8zm3.707-11.707a1 1 0 0 0-1.414 0L12 10.586l-2.293-2.293a1 1 0 1 0-1.414 1.414L10.586 12l-2.293 2.293a1 1 0 1 0 1.414 1.414L12 13.414l2.293 2.293a1 1 0 0 0 1.414-1.414L13.414 12l2.293-2.293a1 1 0 0 0 0-1.414z"}))}()),o().createElement("p",null,t.condition)),o().createElement("div",{className:"weather-temp"},o().createElement("h2",null,x(j(t.temp_c,t.temp_f))),o().createElement("p",null,o().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"tw-h-4 tw-w-4 tw-text-ocean-teal",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},o().createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"})),t.humidity,"%"),o().createElement("p",null,o().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"tw-h-4 tw-w-4 tw-text-soft-purple",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},o().createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})),t.wind_kph," km/h"))),o().createElement("div",{className:"weather-forecast"},o().createElement("h4",null,o().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"forecast-icon",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},o().createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})),"Today's Forecast"),o().createElement("div",{className:"forecast-details"},o().createElement("div",{className:"tw-flex tw-items-center tw-gap-1"},o().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"tw-h-5 tw-w-5 tw-text-sunset-orange",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},o().createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})),o().createElement("p",{className:"forecast-high"},x(j(t.forecast.max_temp_c,t.forecast.max_temp_f)))),o().createElement("div",{className:"tw-flex tw-items-center tw-gap-1"},o().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"tw-h-5 tw-w-5 tw-text-deep-blue",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},o().createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})),o().createElement("p",{className:"forecast-low"},x(j(t.forecast.min_temp_c,t.forecast.min_temp_f)))),o().createElement("div",{className:"tw-mt-2 tw-w-full tw-text-center tw-text-sm tw-text-night-blue"},t.forecast.condition))),o().createElement("button",{className:"weather-refresh-btn",onClick:O},o().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"tw-h-5 tw-w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},o().createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})),"Refresh Weather"),t.noun_project_attribution&&o().createElement("div",{className:"tw-text-xs tw-text-center tw-mt-4 tw-text-gray-500"},t.noun_project_attribution)):o().createElement("div",{className:"weather-widget weather-loading"},o().createElement("svg",{className:"tw-w-16 tw-h-16 tw-mx-auto tw-text-sky-blue loading-icon",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},o().createElement("circle",{className:"tw-opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),o().createElement("path",{className:"tw-opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})),o().createElement("p",{className:"tw-mt-5 tw-font-medium tw-text-night-blue"},"Initializing weather data..."),d&&o().createElement("p",{className:"weather-location-error"},d))};document.addEventListener("DOMContentLoaded",(function(){var e=document.getElementById("weather-forecast-widget"),t=document.querySelectorAll(".weather-forecast-container");console.log("Weather widget looking for containers"),console.log("ID container found:",!!e),console.log("Class containers found:",t.length),e&&(c().render(o().createElement(h,null),e),console.log("Weather widget rendered to ID container")),t.length>0&&t.forEach((function(e,t){"weather-forecast-widget"!==e.id&&(c().render(o().createElement(h,null),e),console.log("Weather widget rendered to container",t))})),e||0!==t.length||console.warn("No weather widget containers found on page. Add either an element with ID 'weather-forecast-widget' or class 'weather-forecast-container'")})),window.weatherForecastWidget=h;const d=h},363:e=>{e.exports=React}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var a=t[n]={exports:{}};return e[n](a,a.exports,r),a.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e=r(363),t=r.n(e);const n=wp.blocks,o=wp.blockEditor,a=wp.components,c=wp.i18n;var l=r(87);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){w(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function w(e,t,r){return(t=function(e){var t=function(e){if("object"!=i(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==i(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,c,l=[],i=!0,s=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;i=!1}else for(;!(i=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);i=!0);}catch(e){s=!0,o=e}finally{try{if(!i&&null!=r.return&&(c=r.return(),Object(c)!==c))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return h(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?h(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}(0,n.registerBlockType)("auditech/weather-forecast",{apiVersion:2,title:(0,c.__)("Weather Forecast","weather-forecast"),icon:"cloud",category:"widgets",edit:function(r){var n=r.attributes,i=r.setAttributes,s=m((0,e.useState)(n.location||""),2),w=s[0],h=s[1],d=m((0,e.useState)(null),2),f=d[0],g=d[1],p=m((0,e.useState)(!1),2),v=p[0],y=p[1],b=m((0,e.useState)(null),2),E=b[0],x=b[1],j=m((0,e.useState)(!1),2),N=j[0],_=j[1],k=m((0,e.useState)("#3B82F6"),2),O=k[0],S=k[1];(0,e.useEffect)((function(){i({location:w})}),[w,i]),(0,e.useEffect)((function(){weatherForecastData.initialWeather&&g(weatherForecastData.initialWeather)}),[]);var C=function(){w&&(y(!0),x(null),jQuery.ajax({url:weatherForecastData.ajaxurl,type:"POST",data:{action:"weather_forecast_get_current",security:weatherForecastData.nonce,location:w},success:function(e){e.success?(g(e.data),weatherForecastData.useNounProject&&N&&e.data.condition&&P(e.data.condition,O)):x("Failed to fetch weather data"),y(!1)},error:function(e,t,r){x("Error: "+r),y(!1)}}))},P=function(e,t){t&&t.startsWith("#")&&(t=t.substring(1)),jQuery.ajax({url:weatherForecastData.ajaxurl,type:"POST",data:{action:"weather_forecast_get_icon",security:weatherForecastData.nonce,condition:e,color:t,filetype:"svg",size:84},success:function(e){e.success&&e.data.icon_url&&g((function(t){return u(u({},t),{},{noun_project_icon:e.data.icon_url,noun_project_attribution:e.data.attribution})}))},error:function(e,t,r){console.error("Error fetching Noun Project icon:",r)}})};return t().createElement(t().Fragment,null,t().createElement(o.InspectorControls,null,t().createElement(a.PanelBody,{title:(0,c.__)("Weather Settings","weather-forecast")},t().createElement(a.TextControl,{label:(0,c.__)("Location","weather-forecast"),value:w,onChange:h,className:"mb-3"}),t().createElement(a.Button,{isPrimary:!0,onClick:C,disabled:!w},(0,c.__)("Update Weather","weather-forecast")),weatherForecastData.useNounProject&&t().createElement("div",{className:"tw-mt-4"},t().createElement(a.ToggleControl,{label:(0,c.__)("Use Custom Icon Color","weather-forecast"),checked:N,onChange:_}),N&&t().createElement("div",{className:"tw-mt-2"},t().createElement("p",{className:"components-base-control__label"},(0,c.__)("Icon Color","weather-forecast")),t().createElement(a.ColorPalette,{colors:[{name:"Sky Blue",color:"#3B82F6"},{name:"Deep Blue",color:"#1E40AF"},{name:"Ocean Teal",color:"#0EA5E9"},{name:"Sunset Orange",color:"#F97316"},{name:"Soft Purple",color:"#8B5CF6"},{name:"Night Blue",color:"#1E293B"}],value:O,onChange:function(e){S(e),f&&f.condition&&P(f.condition,e)}}))))),t().createElement("div",{className:"tw-p-4"},t().createElement(l.Z,{weatherData:f,loading:v,error:E,onRefresh:C})))},save:function(){return null}})})()})();