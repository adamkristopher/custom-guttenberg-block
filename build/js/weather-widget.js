(()=>{"use strict";var e={363:e=>{e.exports=React}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var a=t[n]={exports:{}};return e[n](a,a.exports,r),a.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e=r(363),t=r.n(e);const n=ReactDOM;var o=r.n(n);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){return(t=function(e){var t=function(e){if("object"!=a(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==a(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,c,l=[],i=!0,s=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;i=!1}else for(;!(i=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);i=!0);}catch(e){s=!0,o=e}finally{try{if(!i&&null!=r.return&&(c=r.return(),Object(c)!==c))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return u(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var w=function(){var r=s((0,e.useState)(weatherForecastData.initialWeather||{}),2),n=r[0],o=r[1],a=s((0,e.useState)(!1),2),c=a[0],i=a[1],u=s((0,e.useState)(null),2),w=u[0],m=u[1],h=s((0,e.useState)(null),2),d=h[0],g=h[1],f=s((0,e.useState)("celsius"),2),v=f[0],p=f[1],E=s((0,e.useState)("12h"),2),x=E[0],y=E[1],b=function(e){return"".concat(Math.round(e),"°").concat("celsius"===v?"C":"F")},N=function(e,t){return"celsius"===v?e:t};(0,e.useEffect)((function(){"https:"===window.location.protocol?navigator.geolocation?(i(!0),navigator.geolocation.getCurrentPosition((function(e){z(e.coords.latitude,e.coords.longitude)}),(function(e){var t="Could not get your location. Using default location instead.";1===e.code?t="Location access denied. Please check your browser permissions.":2===e.code?t="Location unavailable. Using default location instead.":3===e.code&&(t="Location request timed out. Using default location instead."),console.error("Geolocation error:",e),g(t),i(!1)}),{enableHighAccuracy:!0,timeout:1e4,maximumAge:0})):(g("Geolocation is not supported by your browser."),i(!1)):g("Geolocation requires a secure (HTTPS) connection. Using default location instead.")}),[]);var j,k,z=function(e,t){i(!0),m(null),jQuery.ajax({url:weatherForecastData.ajaxurl,type:"POST",data:{action:"weather_forecast_get_current",security:weatherForecastData.nonce,latitude:e,longitude:t},success:function(e){e.success?o(e.data):m("Failed to fetch weather data"),i(!1)},error:function(e,t,r){m("Error: "+r),i(!1)}})},_=function(){navigator.geolocation?navigator.geolocation.getCurrentPosition((function(e){z(e.coords.latitude,e.coords.longitude)}),(function(e){m("Could not get your location. Please try again.")})):(i(!0),m(null),jQuery.ajax({url:weatherForecastData.ajaxurl,type:"POST",data:{action:"weather_forecast_get_current",security:weatherForecastData.nonce},success:function(e){e.success?o(e.data):m("Failed to fetch weather data"),i(!1)},error:function(e,t,r){m("Error: "+r),i(!1)}}))};return(0,e.useEffect)((function(){n&&n.condition&&!n.noun_project_icon&&weatherForecastData.useNounProject&&function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;weatherForecastData.useNounProject&&(t&&t.startsWith("#")&&(t=t.substring(1)),jQuery.ajax({url:weatherForecastData.ajaxurl,type:"POST",data:{action:"weather_forecast_get_icon",security:weatherForecastData.nonce,condition:e,color:t,filetype:"svg",size:84},success:function(e){e.success&&e.data.icon_url&&o((function(t){return l(l({},t),{},{noun_project_icon:e.data.icon_url,noun_project_attribution:e.data.attribution})}))},error:function(e,t,r){console.error("Error fetching Noun Project icon:",r)}}))}(n.condition,"3B82F6")}),[null==n?void 0:n.condition]),c?t().createElement("div",{className:"weather-widget weather-loading"},t().createElement("svg",{className:"tw-w-16 tw-h-16 tw-mx-auto tw-text-sky-blue loading-icon",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},t().createElement("circle",{className:"tw-opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),t().createElement("path",{className:"tw-opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})),t().createElement("p",{className:"tw-mt-5 tw-font-medium tw-text-night-blue"},"Fetching your weather...")):w?t().createElement("div",{className:"weather-widget weather-error"},t().createElement("svg",{className:"error-icon",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},t().createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})),t().createElement("p",{className:"tw-text-night-blue tw-font-medium"},w),t().createElement("button",{onClick:_,className:"tw-bg-sky-blue tw-text-white tw-px-4 tw-py-2 tw-rounded-lg tw-mt-5 hover:tw-bg-deep-blue tw-transition-colors"},"Try Again")):n.location?t().createElement("div",{className:"weather-widget weather-card"},t().createElement("div",{className:"weather-header"},t().createElement("div",{className:"tw-flex tw-justify-between tw-items-center"},t().createElement("h3",{className:"weather-location"},n.location),t().createElement("div",{className:"tw-flex tw-gap-2"},t().createElement("button",{onClick:function(){p("celsius"===v?"fahrenheit":"celsius")},className:"unit-toggle ".concat("celsius"===v?"active":"")},"°","celsius"===v?"C":"F"),t().createElement("button",{onClick:function(){y("12h"===x?"24h":"12h")},className:"unit-toggle ".concat("24h"===x?"active":"")},"12h"===x?"12h":"24h"))),t().createElement("p",{className:"tw-text-xs tw-text-night-blue tw-opacity-75"},n.country),t().createElement("p",{className:"weather-updated tw-flex tw-items-center tw-gap-1"},t().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"tw-h-4 tw-w-4 tw-text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},t().createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})),(j=n.last_updated,k=new Date(j),"12h"===x?k.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!0}):k.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1}))),d&&t().createElement("p",{className:"weather-location-note"},d)),t().createElement("div",{className:"weather-current"},t().createElement("div",{className:"weather-condition"},t().createElement("div",{className:"weather-condition-icon"},function(){if(n.noun_project_icon)return t().createElement("img",{src:n.noun_project_icon,alt:n.condition,className:"tw-w-16 tw-h-16 tw-object-contain",title:n.noun_project_attribution||n.condition});if(n.icon)return t().createElement("img",{src:n.icon,alt:n.condition,className:"tw-w-16 tw-h-16"});var e=n.condition.toLowerCase();return e.includes("thunderstorm")||e.includes("thunder")?t().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"tw-w-8 tw-h-8 tw-text-white"},t().createElement("path",{d:"M16 2a1 1 0 0 1 1 1v6h3a1 1 0 0 1 .8 1.6l-8 11a1 1 0 0 1-1.8-.6v-6h-3a1 1 0 0 1-.8-1.6l8-11A1 1 0 0 1 16 2z"})):e.includes("rain")||e.includes("drizzle")?t().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"tw-w-8 tw-h-8 tw-text-white"},t().createElement("path",{d:"M11 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16zm1 13a1 1 0 1 1-2 0 6 6 0 0 1 6-6 1 1 0 0 1 0 2 4 4 0 0 0-4 4z"})):e.includes("snow")||e.includes("sleet")?t().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"tw-w-8 tw-h-8 tw-text-white"},t().createElement("path",{d:"M13 16.268l1.964-1.134 1 1.732L14 18l1.964 1.134-1 1.732L13 19.732V22h-2v-2.268l-1.964 1.134-1-1.732L10 18l-1.964-1.134 1-1.732L11 16.268V14h2v2.268zM17 18v-4h-2v-2h2V8l4 4-4 4v2zM3 2h18v2H3V2z"})):e.includes("clear")||e.includes("sunny")?t().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"tw-w-8 tw-h-8 tw-text-white"},t().createElement("path",{d:"M12 18a6 6 0 1 1 0-12 6 6 0 0 1 0 12zm0-2a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM11 1h2v3h-2V1zm0 19h2v3h-2v-3zM3.515 4.929l1.414-1.414L7.05 5.636 5.636 7.05 3.515 4.93zM16.95 18.364l1.414-1.414 2.121 2.121-1.414 1.414-2.121-2.121zm2.121-14.85l1.414 1.415-2.121 2.121-1.414-1.414 2.121-2.121zM5.636 16.95l1.414 1.414-2.121 2.121-1.414-1.414 2.121-2.121zM23 11v2h-3v-2h3zM4 11v2H1v-2h3z"})):e.includes("cloud")||e.includes("overcast")?t().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"tw-w-8 tw-h-8 tw-text-white"},t().createElement("path",{d:"M9.5 6a6.5 6.5 0 0 0 0 13h7a4.5 4.5 0 1 0-.957-8.898A6.502 6.502 0 0 0 9.5 6z"})):e.includes("fog")||e.includes("mist")?t().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"tw-w-8 tw-h-8 tw-text-white"},t().createElement("path",{d:"M4 4h4v2H4V4zm12 0h4v2h-4V4zM2 9h5v2H2V9zm7 0h5v2H9V9zm7 0h5v2h-5V9zM4 14h4v2H4v-2zm12 0h4v2h-4v-2zM2 19h5v2H2v-2zm7 0h5v2H9v-2zm7 0h5v2h-5v-2z"})):t().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"tw-w-8 tw-h-8 tw-text-white"},t().createElement("path",{d:"M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10S2 17.514 2 12 6.486 2 12 2zm0 18c4.411 0 8-3.589 8-8s-3.589-8-8-8-8 3.589-8 8 3.589 8 8 8zm3.707-11.707a1 1 0 0 0-1.414 0L12 10.586l-2.293-2.293a1 1 0 1 0-1.414 1.414L10.586 12l-2.293 2.293a1 1 0 1 0 1.414 1.414L12 13.414l2.293 2.293a1 1 0 0 0 1.414-1.414L13.414 12l2.293-2.293a1 1 0 0 0 0-1.414z"}))}()),t().createElement("p",null,n.condition)),t().createElement("div",{className:"weather-temp"},t().createElement("h2",null,b(N(n.temp_c,n.temp_f))),t().createElement("p",null,t().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"tw-h-4 tw-w-4 tw-text-ocean-teal",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},t().createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"})),n.humidity,"%"),t().createElement("p",null,t().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"tw-h-4 tw-w-4 tw-text-soft-purple",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},t().createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})),n.wind_kph," km/h"))),t().createElement("div",{className:"weather-forecast"},t().createElement("h4",null,t().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"forecast-icon",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},t().createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})),"Today's Forecast"),t().createElement("div",{className:"forecast-details"},t().createElement("div",{className:"tw-flex tw-items-center tw-gap-1"},t().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"tw-h-5 tw-w-5 tw-text-sunset-orange",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},t().createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})),t().createElement("p",{className:"forecast-high"},b(N(n.forecast.max_temp_c,n.forecast.max_temp_f)))),t().createElement("div",{className:"tw-flex tw-items-center tw-gap-1"},t().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"tw-h-5 tw-w-5 tw-text-deep-blue",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},t().createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})),t().createElement("p",{className:"forecast-low"},b(N(n.forecast.min_temp_c,n.forecast.min_temp_f)))),t().createElement("div",{className:"tw-mt-2 tw-w-full tw-text-center tw-text-sm tw-text-night-blue"},n.forecast.condition))),t().createElement("button",{className:"weather-refresh-btn",onClick:_},t().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"tw-h-5 tw-w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},t().createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})),"Refresh Weather"),n.noun_project_attribution&&t().createElement("div",{className:"tw-text-xs tw-text-center tw-mt-4 tw-text-gray-500"},n.noun_project_attribution)):t().createElement("div",{className:"weather-widget weather-loading"},t().createElement("svg",{className:"tw-w-16 tw-h-16 tw-mx-auto tw-text-sky-blue loading-icon",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},t().createElement("circle",{className:"tw-opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),t().createElement("path",{className:"tw-opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})),t().createElement("p",{className:"tw-mt-5 tw-font-medium tw-text-night-blue"},"Initializing weather data..."),d&&t().createElement("p",{className:"weather-location-error"},d))};document.addEventListener("DOMContentLoaded",(function(){var e=document.getElementById("weather-forecast-widget"),r=document.querySelectorAll(".weather-forecast-container");console.log("Weather widget looking for containers"),console.log("ID container found:",!!e),console.log("Class containers found:",r.length),e&&(o().render(t().createElement(w,null),e),console.log("Weather widget rendered to ID container")),r.length>0&&r.forEach((function(e,r){"weather-forecast-widget"!==e.id&&(o().render(t().createElement(w,null),e),console.log("Weather widget rendered to container",r))})),e||0!==r.length||console.warn("No weather widget containers found on page. Add either an element with ID 'weather-forecast-widget' or class 'weather-forecast-container'")})),window.weatherForecastWidget=w})()})();